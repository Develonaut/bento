{
  "id": "generate-product-renders",
  "type": "group",
  "version": "1.0.0",
  "name": "Generate Product Renders",
  "position": {
    "x": 0,
    "y": 0
  },
  "metadata": {
    "description": "Renders a single product with customizable zoom, offset, and theme settings. Automatically reads render.json if present in product folder.",
    "usage": "bento run generate-product-renders",
    "requirements": "Requires Blender with Photographer addon and BENTO_import_and_setup_and_render.py script",
    "tags": ["blender", "rendering", "3d", "single-product"],
    "demonstrates": ["shell-command", "Blender automation", "parameterized rendering"]
  },
  "variables": [
    {
      "name": "PRODUCT_PATH",
      "description": "Path to the product folder containing model.stl and overlay.png",
      "type": "path"
    },
    {
      "name": "RENDER_THEME",
      "description": "Color theme for the render",
      "defaultValue": "stormcaller",
      "type": "select",
      "options": [
        "default|Default (Orange & Blue)",
        "stormcaller|Storm Caller (Blue & White)",
        "fire|Fire (Orange & Red)",
        "heroes|Heroes (Gold & Orange)",
        "villains|Villains (Purple & Dark Blue)",
        "orcs|Orcs (Green)",
        "undead|Undead (Cyan & Purple)",
        "celestial|Celestial (Gold & Pink)",
        "mystics|Mystics (Cyan & Blue)",
        "wasteland_blaze|Wasteland Blaze (Orange & Red)",
        "arcane_dream|Arcane Dream (Purple & Cyan)",
        "plague_touch|Plague Touch (Yellow-Green)",
        "blood_ritual|Blood Ritual (Dark Red)",
        "eldritch_void|Eldritch Void (Dark Purple)",
        "cursed_gold|Cursed Gold (Gold & Brown)",
        "moonlit_hunter|Moonlit Hunter (Silver & Gray)",
        "shadow_spike|Shadow Spike (Purple & Black)",
        "fae_glow|Fae Glow (Mint & Purple)"
      ]
    },
    {
      "name": "ZOOM_MULTIPLIER",
      "description": "Camera zoom distance (1.0=default, >1.0=zoom out, <1.0=zoom in)",
      "defaultValue": "1.0"
    },
    {
      "name": "OFFSET_MODIFIER",
      "description": "Horizontal camera offset (0.0=centered, <0.0=left, >0.0=right)",
      "defaultValue": "0.0"
    }
  ],
  "parameters": {},
  "inputPorts": [],
  "outputPorts": [],
  "nodes": [
    {
      "id": "create-renders-dir",
      "type": "file-system",
      "version": "1.0.0",
      "name": "Create Renders Directory",
      "position": {
        "x": 100,
        "y": 100
      },
      "metadata": {
        "description": "Creates the renders/ subdirectory in the product folder"
      },
      "parameters": {
        "operation": "mkdir",
        "path": "{{.PRODUCT_PATH}}/renders",
        "recursive": true
      },
      "inputPorts": [],
      "outputPorts": []
    },
    {
      "id": "render-product",
      "type": "shell-command",
      "version": "1.0.0",
      "name": "Render Product with Blender",
      "position": {
        "x": 300,
        "y": 100
      },
      "metadata": {
        "description": "Invokes Blender to render the product with custom settings"
      },
      "parameters": {
        "command": "/Applications/Blender.app/Contents/MacOS/Blender",
        "args": [
          "-b",
          "{{.BLENDER_ASSETS_PATH}}/BENTO_Product_Renders.blend",
          "-P",
          "{{.BLENDER_ASSETS_PATH}}/_Scripts/BENTO_import_and_setup_and_render.py",
          "--",
          "--stl-path",
          "{{.PRODUCT_PATH}}/model.stl",
          "--overlay-path",
          "{{.PRODUCT_PATH}}/overlay.png",
          "--output-dir",
          "{{.PRODUCT_PATH}}/renders",
          "--color-theme",
          "{{.RENDER_THEME}}",
          "--filename-prefix",
          "{{basename .PRODUCT_PATH}}",
          "--zoom-multiplier",
          "{{.ZOOM_MULTIPLIER}}",
          "--offset-modifier",
          "{{.OFFSET_MODIFIER}}",
          "--quiet"
        ],
        "timeout": 1800,
        "stream": true
      },
      "inputPorts": [],
      "outputPorts": []
    }
  ],
  "edges": []
}
